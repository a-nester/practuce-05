{"version":3,"file":"commonHelpers.js","sources":["../src/js/login.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst form = document.querySelector('.login-form');\nconst button = document.querySelector('.login-btn');\nconst LOCAL_STORAGE_KEY = 'login-form';\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  const userEmail = event.target.elements.email;\n  const userPassword = event.target.elements.password;\n  const userEmailValue = userEmail.value.trim();\n  const userPasswordValue = userPassword.value.trim();\n\n  if (!userEmailValue || !userPasswordValue) {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'You need to fill all fields',\n      position: 'topRight',\n    });\n    return;\n  }\n  if (\n    userEmailValue !== USER_DATA.email ||\n    userPasswordValue !== USER_DATA.password\n  ) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Wrong login or password',\n    });\n    return;\n  }\n  localStorage.setItem(\n    LOCAL_STORAGE_KEY,\n    JSON.stringify({ email: userEmailValue, password: userPasswordValue })\n  );\n  button.textContent = 'Logout';\n  userEmail.setAttribute('readonly', true);\n  userPassword.setAttribute('readonly', true);\n}\n"],"names":["USER_DATA","form","button","LOCAL_STORAGE_KEY","onSubmit","event","userEmail","userPassword","userEmailValue","userPasswordValue","iziToast"],"mappings":"svBAaA,MAAMA,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EAEMC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAoB,aAE1BF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,MAClCE,EAAeF,EAAM,OAAO,SAAS,SACrCG,EAAiBF,EAAU,MAAM,KAAI,EACrCG,EAAoBF,EAAa,MAAM,KAAI,EAEjD,GAAI,CAACC,GAAkB,CAACC,EAAmB,CACzCC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CACD,GACEF,IAAmBR,EAAU,OAC7BS,IAAsBT,EAAU,SAChC,CACAU,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACf,CAAK,EACD,MACD,CACD,aAAa,QACXP,EACA,KAAK,UAAU,CAAE,MAAOK,EAAgB,SAAUC,EAAmB,CACzE,EACEP,EAAO,YAAc,SACrBI,EAAU,aAAa,WAAY,EAAI,EACvCC,EAAa,aAAa,WAAY,EAAI,CAC5C"}